# 📊 Comparação: JavaScript Vanilla vs Vue.js

## 1. 🏗️ Estrutura HTML

### **JavaScript Vanilla**
```html
<tbody id="suppliers-table-body">
  <!-- Table content will be generated by JavaScript -->
</tbody>

<input type="text" id="search-input" placeholder="Pesquisar" />
<button id="new-supplier-btn">Novo Fornecedor</button>
```

### **Vue.js**
```html
<tbody>
  <tr v-for="supplier in paginatedSuppliers" :key="supplier.codfornecedor">
    <td>{{ supplier.fornecedor }}</td>
    <td>{{ supplier.email }}</td>
  </tr>
</tbody>

<input type="text" v-model="searchTerm" @input="searchSuppliers" />
<button @click="openNewSupplierModal">Novo Fornecedor</button>
```

## 2. 📝 Renderização de Lista

### **JavaScript Vanilla**
```javascript
const renderSuppliers = () => {
  tableBody.innerHTML = '';
  
  suppliers.forEach(supplier => {
    const tr = document.createElement('tr');
    const dtFormatada = new Date(supplier.dtcadastro + 'T00:00:00').toLocaleDateString('pt-BR');
    
    tr.innerHTML = `
      <td>${supplier.codfornecedor}</td>
      <td>${supplier.fornecedor}</td>
      <td>${supplier.email}</td>
      <td>${dtFormatada}</td>
      <td>
        <button class="btn-edit" data-id="${supplier.codfornecedor}">
          <!-- SVG icon -->
        </button>
      </td>
    `;
    
    tableBody.appendChild(tr);
  });
};

// Precisa chamar manualmente
renderSuppliers();
```

### **Vue.js**
```html
<!-- Renderização automática e reativa -->
<tr v-for="supplier in paginatedSuppliers" :key="supplier.codfornecedor">
  <td>{{ supplier.codfornecedor }}</td>
  <td>{{ supplier.fornecedor }}</td>
  <td>{{ supplier.email }}</td>
  <td>{{ formatDate(supplier.dtcadastro) }}</td>
  <td>
    <button @click="editSupplier(supplier.codfornecedor)">
      <!-- SVG icon -->
    </button>
  </td>
</tr>
```

## 3. 🔍 Sistema de Busca

### **JavaScript Vanilla**
```javascript
const searchInput = document.getElementById('search-input');

searchInput.addEventListener('input', () => {
  const term = searchInput.value.toLowerCase();
  
  if (!term.trim()) {
    filteredSuppliers = [...suppliers];
  } else {
    filteredSuppliers = suppliers.filter(supplier => 
      supplier.fornecedor.toLowerCase().includes(term) ||
      supplier.email.toLowerCase().includes(term)
    );
  }
  
  currentPage = 1;
  renderSuppliers(); // Precisa re-renderizar manualmente
});
```

### **Vue.js**
```html
<input type="text" v-model="searchTerm" @input="searchSuppliers" />
```

```javascript
methods: {
  searchSuppliers() {
    if (!this.searchTerm.trim()) {
      this.filteredSuppliers = [...this.suppliers];
    } else {
      const term = this.searchTerm.toLowerCase();
      this.filteredSuppliers = this.suppliers.filter(supplier => 
        supplier.fornecedor.toLowerCase().includes(term) ||
        supplier.email.toLowerCase().includes(term)
      );
    }
    this.currentPage = 1; // UI atualiza automaticamente
  }
}
```

## 4. 📄 Paginação

### **JavaScript Vanilla**
```javascript
const renderPagination = (totalItems) => {
  const paginationContainer = document.getElementById('pagination-controls');
  const totalPages = Math.ceil(totalItems / itemsPerPage);
  
  paginationContainer.innerHTML = '';

  // Botão anterior
  const prevButton = document.createElement('button');
  prevButton.textContent = '« Anterior';
  prevButton.disabled = (currentPage === 1);
  prevButton.addEventListener('click', () => {
    if (currentPage > 1) {
      currentPage--;
      loadSuppliers(); // Re-carrega tudo
    }
  });
  paginationContainer.appendChild(prevButton);

  // Info da página
  const pageInfo = document.createElement('span');
  pageInfo.textContent = `Página ${currentPage} de ${totalPages}`;
  paginationContainer.appendChild(pageInfo);

  // Botão próximo
  const nextButton = document.createElement('button');
  nextButton.textContent = 'Próximo »';
  nextButton.disabled = (currentPage === totalPages);
  nextButton.addEventListener('click', () => {
    if (currentPage < totalPages) {
      currentPage++;
      loadSuppliers(); // Re-carrega tudo
    }
  });
  paginationContainer.appendChild(nextButton);
};
```

### **Vue.js**
```html
<div class="pagination-controls" v-if="totalPages > 1">
  <button @click="previousPage" :disabled="currentPage === 1">
    « Anterior
  </button>
  
  <span>Página {{ currentPage }} de {{ totalPages }}</span>
  
  <button @click="nextPage" :disabled="currentPage === totalPages">
    Próximo »
  </button>
</div>
```

```javascript
computed: {
  paginatedSuppliers() {
    const start = (this.currentPage - 1) * this.itemsPerPage;
    return this.filteredSuppliers.slice(start, start + this.itemsPerPage);
  },
  
  totalPages() {
    return Math.ceil(this.filteredSuppliers.length / this.itemsPerPage);
  }
},

methods: {
  nextPage() {
    if (this.currentPage < this.totalPages) {
      this.currentPage++; // UI atualiza automaticamente
    }
  },
  
  previousPage() {
    if (this.currentPage > 1) {
      this.currentPage--; // UI atualiza automaticamente
    }
  }
}
```

## 5. 📝 Formulários

### **JavaScript Vanilla**
```javascript
// Preencher formulário
const editSupplier = async (id) => {
  const supplier = await fetchSupplier(id);
  
  document.getElementById('fornecedor-cnpj').value = supplier.cnpj;
  document.getElementById('fornecedor-nome').value = supplier.fornecedor;
  document.getElementById('fornecedor-fantasia').value = supplier.fantasia;
  // ... mais campos
  
  supplierModal.classList.add('show');
};

// Coletar dados do formulário
const handleFormSubmit = (event) => {
  event.preventDefault();
  
  const formData = new FormData(supplierForm);
  const supplierData = Object.fromEntries(formData.entries());
  
  // Enviar dados...
};
```

### **Vue.js**
```html
<!-- Two-way binding automático -->
<input type="text" v-model="form.cnpj" />
<input type="text" v-model="form.fornecedor" />
<input type="text" v-model="form.fantasia" />

<form @submit.prevent="saveSupplier">
  <!-- campos do formulário -->
</form>
```

```javascript
data() {
  return {
    form: {
      cnpj: '',
      fornecedor: '',
      fantasia: ''
      // ... outros campos
    }
  }
},

methods: {
  async editSupplier(id) {
    const supplier = await this.fetchSupplier(id);
    
    // Preenchimento direto do objeto reativo
    this.form.cnpj = supplier.cnpj;
    this.form.fornecedor = supplier.fornecedor;
    this.form.fantasia = supplier.fantasia;
    
    this.showModal = true; // UI atualiza automaticamente
  },
  
  async saveSupplier() {
    // this.form já contém todos os dados
    await this.sendToAPI(this.form);
  }
}
```

## 6. 🎛️ Estados de Loading

### **JavaScript Vanilla**
```javascript
let loading = false;

const loadSuppliers = async () => {
  loading = true;
  
  // Atualizar UI manualmente
  tableBody.innerHTML = '<tr><td colspan="7">Carregando...</td></tr>';
  
  try {
    const data = await fetchSuppliers();
    suppliers = data;
    renderSuppliers(); // Re-renderizar manualmente
  } finally {
    loading = false;
  }
};
```

### **Vue.js**
```html
<!-- Estado de loading reativo -->
<tr v-if="loading">
  <td colspan="7">
    <div class="loading-spinner"></div>
    Carregando fornecedores...
  </td>
</tr>

<tr v-else-if="suppliers.length === 0">
  <td colspan="7">Nenhum fornecedor encontrado</td>
</tr>

<tr v-else v-for="supplier in paginatedSuppliers">
  <!-- dados dos fornecedores -->
</tr>
```

```javascript
data() {
  return {
    loading: false,
    suppliers: []
  }
},

methods: {
  async loadSuppliers() {
    this.loading = true; // UI atualiza automaticamente
    
    try {
      const data = await this.fetchSuppliers();
      this.suppliers = data; // UI atualiza automaticamente
    } finally {
      this.loading = false; // UI atualiza automaticamente
    }
  }
}
```

## 7. 🎯 Event Handling

### **JavaScript Vanilla**
```javascript
// Event listeners manuais
newSupplierBtn.addEventListener('click', openNewSupplierModal);

closeModalBtns.forEach(btn => {
  btn.addEventListener('click', closeModal);
});

supplierForm.addEventListener('submit', handleFormSubmit);

// Event delegation para botões dinâmicos
tableBody.addEventListener('click', (event) => {
  const deleteButton = event.target.closest('.btn-delete');
  if (deleteButton) {
    const id = deleteButton.dataset.id;
    openConfirmationModal(id);
  }
  
  const editButton = event.target.closest('.btn-edit');
  if (editButton) {
    const id = editButton.dataset.id;
    openEditModal(id);
  }
});
```

### **Vue.js**
```html
<!-- Event handling declarativo -->
<button @click="openNewSupplierModal">Novo Fornecedor</button>

<button @click="closeModal">Fechar</button>

<form @submit.prevent="saveSupplier">

<button @click="editSupplier(supplier.codfornecedor)">Editar</button>
<button @click="confirmDelete(supplier.codfornecedor)">Excluir</button>
```

## 📊 Resumo das Vantagens

| Aspecto | JavaScript Vanilla | Vue.js |
|---------|-------------------|--------|
| **Código** | ~500 linhas | ~400 linhas |
| **DOM Manipulation** | Manual | Automática |
| **Event Handling** | Manual + Delegation | Declarativo |
| **State Management** | Variáveis globais | Reativo |
| **Form Handling** | Manual | Two-way binding |
| **Conditional Rendering** | if/else + innerHTML | v-if/v-show |
| **List Rendering** | forEach + createElement | v-for |
| **Reactivity** | Manual re-render | Automática |
| **Maintainability** | Média | Alta |
| **Testability** | Baixa | Alta |

**🎯 Resultado: Vue.js reduz significativamente a complexidade e melhora a manutenibilidade do código!**